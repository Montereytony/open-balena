#!/bin/bash 

balena push \
--env api:API_VPN_SERVICE_API_KEY=${OPENBALENA_API_VPN_SERVICE_API_KEY} \
--env api:BALENA_ROOT_CA=${OPENBALENA_ROOT_CA} \
--env api:COOKIE_SESSION_SECRET=${OPENBALENA_COOKIE_SESSION_SECRET} \
--env api:DELTA_HOST=delta.${OPENBALENA_HOST_NAME} \
--env api:DEVICE_CONFIG_OPENVPN_CA=${OPENBALENA_VPN_CA_CHAIN} \
--env api:DEVICE_CONFIG_SSH_AUTHORIZED_KEYS=${OPENBALENA_SSH_AUTHORIZED_KEYS} \
--env api:HOST=api.${OPENBALENA_HOST_NAME} \
--env api:IMAGE_MAKER_URL=img.${OPENBALENA_HOST_NAME} \
--env api:JSON_WEB_TOKEN_SECRET=${OPENBALENA_JWT_SECRET} \
--env api:PRODUCTION_MODE="${OPENBALENA_PRODUCTION_MODE}" \
--env api:REGISTRY2_HOST=registry.${OPENBALENA_HOST_NAME} \
--env api:REGISTRY_HOST=registry.${OPENBALENA_HOST_NAME} \
--env api:TOKEN_AUTH_BUILDER_TOKEN=${OPENBALENA_TOKEN_AUTH_BUILDER_TOKEN} \
--env api:TOKEN_AUTH_CERT_ISSUER=api.${OPENBALENA_HOST_NAME} \
--env api:TOKEN_AUTH_CERT_KEY=${OPENBALENA_TOKEN_AUTH_KEY} \
--env api:TOKEN_AUTH_CERT_KID=${OPENBALENA_TOKEN_AUTH_KID} \
--env api:TOKEN_AUTH_CERT_PUB=${OPENBALENA_TOKEN_AUTH_PUB} \
--env api:VPN_HOST=vpn.${OPENBALENA_HOST_NAME} \
--env api:VPN_SERVICE_API_KEY=${OPENBALENA_VPN_SERVICE_API_KEY} \
--env api:SUPERUSER_EMAIL=${OPENBALENA_SUPERUSER_EMAIL} \
--env api:SUPERUSER_PASSWORD=${OPENBALENA_SUPERUSER_PASSWORD} \
--env registry:API_TOKENAUTH_CRT=${OPENBALENA_TOKEN_AUTH_PUB} \
--env registry:BALENA_REGISTRY2_HOST=registry.${OPENBALENA_HOST_NAME} \
--env registry:BALENA_ROOT_CA=${OPENBALENA_ROOT_CA} \
--env registry:BALENA_TOKEN_AUTH_ISSUER=api.${OPENBALENA_HOST_NAME} \
--env registry:BALENA_TOKEN_AUTH_REALM=https://api.${OPENBALENA_HOST_NAME}/auth/v1/token \
--env registry:COMMON_REGION=${OPENBALENA_S3_REGION} \
--env registry:REGISTRY2_S3_REGION_ENDPOINT=${OPENBALENA_S3_ENDPOINT} \
--env registry:REGISTRY2_S3_BUCKET=${OPENBALENA_REGISTRY2_S3_BUCKET} \
--env registry:REGISTRY2_S3_KEY=${OPENBALENA_S3_ACCESS_KEY} \
--env registry:REGISTRY2_S3_SECRET=${OPENBALENA_S3_SECRET_KEY} \
--env registry:REGISTRY2_SECRETKEY=${OPENBALENA_REGISTRY_SECRET_KEY} \
--env vpn:API_SERVICE_API_KEY: ${OPENBALENA_API_VPN_SERVICE_API_KEY} \
--env vpn:BALENA_API_HOST=api.${OPENBALENA_HOST_NAME} \
--env vpn:BALENA_ROOT_CA=${OPENBALENA_ROOT_CA} \
--env vpn:PRODUCTION_MODE="${OPENBALENA_PRODUCTION_MODE}" \
--env vpn:VPN_OPENVPN_CA_CRT=${OPENBALENA_VPN_CA} \
--env vpn:VPN_OPENVPN_SERVER_CRT=${OPENBALENA_VPN_SERVER_CRT} \
--env vpn:VPN_OPENVPN_SERVER_DH=${OPENBALENA_VPN_SERVER_DH} \
--env vpn:VPN_OPENVPN_SERVER_KEY=${OPENBALENA_VPN_SERVER_KEY} \
--env vpn:VPN_SERVICE_API_KEY=${OPENBALENA_VPN_SERVICE_API_KEY} \
--env S3_MINIO_ACCESS_KEY=${OPENBALENA_S3_ACCESS_KEY} \
--env S3_MINIO_SECRET_KEY=${OPENBALENA_S3_SECRET_KEY} \
--env BUCKETS=${OPENBALENA_S3_BUCKETS} \